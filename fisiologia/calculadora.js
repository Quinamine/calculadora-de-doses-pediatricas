"use strict";var peso,farmacos,camposDoseEnota;class Calculadora{constructor(a,o,e,s,i,t,r,n){this.peso=a,this.farmaco=o,this.dosagem=e,this.diluicao=s,this.formaFarmaceutica=i,this.doseporkg=t,this.dosemaxima=r,this.posologia=n}get retornarFormafarmaceutica(){let a;return"susp"===this.formaFarmaceutica?"ml":"inj-im"===this.formaFarmaceutica?"U.I via I.M profunda":this.formaFarmaceutica}get retornarPosologia(){let a;return"1"===this.posologia?a="dose \xfanica di\xe1ria":"2"===this.posologia?(a="de 12 em 12 horas","al"===this.farmaco&&"mebendazol-100"===this.farmaco&&(a+=" durante 3 dias consecutivos")):"3"===this.posologia?(a="de 8 em 8 horas","quinina"===this.farmaco&&(a+=" durante 7 dias consecutivos")):"4"===this.posologia&&(a="de 6 em 6 horas"),a}mostrarNota(){"fenox-susp"===this.farmaco?camposDoseEnota[1].innerHTML=`Administrar as doses de prefer\xeancia 30 minutos antes das refei\xe7\xf5es.`:"benzatina"===this.farmaco||"procaina"===this.farmaco?camposDoseEnota[1].innerHTML=`<strong>Nunca injectar por via endovenosa ou subcut\xe2nea.</strong>`:"azitromicina"===this.farmaco?camposDoseEnota[1].innerHTML=`N\xe3o tomar ao mesmo tempo que medicamentos que cont\xeam alum\xednio e magn\xe9sio (ex.: hidr\xf3xido de alum\xednio e hidr\xf3xido de magn\xe9sio).`:"ctz-susp"===this.farmaco?camposDoseEnota[1].innerHTML=`Recomenda-se a ingest\xe3o de l\xedquidos com abund\xe2ncia durante o tratamento para a preven\xe7\xe3o da cristal\xfaria e lit\xedase renais (c\xe1lculos ou "pedrinhas" nos rins). Devido \xe0 gravidade dos efeitos adversos hematol\xf3gicos e al\xe9rgicos, prescrever o Cotrimoxazol unicamente quando n\xe3o houver alternativa mais segura.`:"cloranfenicol-susp"===this.farmaco?camposDoseEnota[1].innerHTML=`Sobretudo em crian\xe7as, reservar o uso do Cloranfenicol unicamente para quadros graves, que n\xe3o tenham respondido a outros antibi\xf3ticos ou quando h\xe1 comprova\xe7\xe3o ou suspeita forte de se tratar de Febre Tif\xf3ide. Entre os efeitos adversos mais graves, inclui a <b>S\xedndrome de beb\xe9 cinzento</b>. Manifesta-se 2 a 9 dias ap\xf3s in\xedcio do tratamento por <em>distens\xe3o abdominal, v\xf3mitos, respira\xe7\xe3o anormal, cianose, letargia, seguida de colapso vasomotor, hipotermia</em> e "<b>cianose cinzenta</b>". Aparece sobretudo em prematuros ou quando se administra o Cloranfenicol nas primeiras 2 semanas de vida. Pode ocorrer tamb\xe9m em crian\xe7as at\xe9 aos 2 anos. `:this.farmaco.includes("metronidazol")?camposDoseEnota[1].innerHTML=`A dose por kg de peso de Metronidazol \xe9 vari\xe1vel em conformidade com o tipo e gravidade da infec\xe7\xe3o. A dose acima \xe9 para o <b>tratamento de infec\xe7\xe3o por bact\xe9rias anaer\xf3bias</b>.`:"al"===this.farmaco&&this.peso>=5?camposDoseEnota[1].innerHTML=`Para melhorar a sua absor\xe7\xe3o, recomenda-se tomar os comprimidos com alimentos ricos em gordura (ex.: verdura com amendoim ou coco, manteiga, leite de coco, leite de vaca, entre outros).`:"al"===this.farmaco&&this.peso<5?(camposDoseEnota[0].innerHTML="",camposDoseEnota[1].innerHTML=`<strong>N\xe3o recomendado. Tratar como Mal\xe1ria grave.</strong>`):"quinina"===this.farmaco?camposDoseEnota[1].innerHTML=`Evitar o uso concomitante com os anti-\xe1cidos, pois aumentam a toxicidade da Quinina.`:"ibuprofeno-susp"===this.farmaco?camposDoseEnota[1].innerHTML=`Associado \xe0 zidovudina, h\xe1 um risco maior de toxicidade hematol\xf3gica. A sua concentra\xe7\xe3o plasm\xe1tica \xe9 aumentada em associa\xe7\xe3o com ritonavir.`:camposDoseEnota[1].innerHTML=""}printarDose(a){camposDoseEnota[0].innerHTML=`${a} ${this.retornarFormafarmaceutica} ${this.retornarPosologia}.`,"benzatina"==this.farmaco&&(camposDoseEnota[0].innerHTML=`${a} ${this.retornarFormafarmaceutica} dose \xfanica (na S\xedfilis recente) ou ${a} U.I por semana durante 3 semanas (na S\xedfilis tardia).`)}calcularDose(){let a=this.doseporkg*this.peso/this.posologia;if("metoclopramida-susp"===this.farmaco)this.peso<10?(a=1,this.posologia="2"):a=this.peso<=14?1:this.peso<=19?2:this.peso<=29?2.5:this.peso<=34?5:10;else if("al"===this.farmaco){if(this.peso<5)return this.mostrarNota(),!1;a=this.peso<15?1:this.peso<25?2:this.peso<35?3:4}else"quinina"===this.farmaco?this.peso<10?a="1/4":this.peso<=15?a="1/2":this.peso<=25?a="3/4":this.peso<=35?a=1:this.peso>35&&(a=2):"mebendazol-100"===this.farmaco&&(a=this.peso<20?"1/2":1);(a>this.dosemaxima&&(a=this.dosemaxima),"ml"===this.retornarFormafarmaceutica)?a=(a*this.diluicao/this.dosagem).toFixed(1):"U.I via I.M profunda"===this.retornarFormafarmaceutica&&(a=Number(a).toLocaleString()),this.printarDose(a),this.mostrarNota()}}const objectoDarv={validarPeso(){let a=document.querySelector("p.msg-de-validacao-de-peso"),o=()=>{a.innerHTML="",a.classList.remove("on")};if(""!=peso.value){if(!(peso.value<3)&&!(peso.value>45))return o(),!0;a.innerHTML="O peso deve estar no intervalo de 3 \xe0 45 kg.",a.classList.add("on"),this.limparCamposDeSaida()}else o(),this.limparCamposDeSaida()},instanciarClasse(){if(this.validarPeso()){let a,o,e,s,i,t,r;for(let n of farmacos)if(n.matches(".selected")&&(a=n.dataset.nome,o=n.dataset.dos,e=n.dataset.dil,s=n.dataset.forma,i=n.dataset.doseporkg,t=n.dataset.dosemax,r=n.dataset.pos,n.matches(".placeholder")))return!1;let c=new Calculadora(peso.value,a,o,e,s,i,t,r);for(let m of(c.calcularDose(),camposDoseEnota))m.textContent.length>0?m.classList.add("pad-10"):m.classList.remove("pad-10")}},limparCamposDeSaida(){for(let a of camposDoseEnota)a.textContent="",a.classList.remove("pad-10")}};window.addEventListener("load",()=>{peso=document.querySelector("input#peso"),farmacos=document.querySelectorAll("ul.select li"),camposDoseEnota=document.querySelectorAll("p.dose, p.nota"),peso.addEventListener("input",()=>objectoDarv.instanciarClasse()),farmacos.forEach(a=>a.addEventListener("click",()=>objectoDarv.instanciarClasse()))});